<header class="header">
  <!-- Верхняя чёрная полоса -->
  <div class="top-bar">
    <div class="top-bar__row">
      <span class="top-bar__spacer"></span>
      <nav class="top-bar__links" aria-label="Служебные ссылки">
        <a mat-button routerLink="/buyers" class="top-bar__link">Покупателям</a>
        <a mat-button routerLink="/sellers" class="top-bar__link">Продавцам</a>
        <a mat-button routerLink="/support" class="top-bar__link">Поддержка</a>
      </nav>
    </div>
  </div>

  <!-- Angular Material: основная навигация -->
  <mat-toolbar class="main-bar">
    <mat-toolbar-row class="main-bar__row">
      <a routerLink="/" class="logo" aria-label="OwnIt — на главную">OwnIt</a>

      <div class="search-block">
        <form class="search-form" (ngSubmit)="onSearch()" role="search">
          <div class="search-field">
            <mat-icon class="search-field__icon">search</mat-icon>
            <input
              class="search-field__input"
              type="search"
              placeholder="Поиск"
              [ngModel]="searchQuery()"
              (ngModelChange)="searchQuery.set($event)"
              name="search"
              aria-label="Поиск по сайту"
            />
          </div>
        </form>
        <nav class="nav-primary" aria-label="Основная навигация">
          <a
            mat-button
            routerLink="/"
            routerLinkActive="nav-primary__link--active"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-primary__link"
            >Главная</a
          >
          <a
            mat-button
            routerLink="/auction"
            routerLinkActive="nav-primary__link--active"
            class="nav-primary__link"
            >Аукцион</a
          >
          <a
            mat-button
            routerLink="/categories"
            routerLinkActive="nav-primary__link--active"
            class="nav-primary__link"
            >Категории</a
          >
        </nav>
      </div>

      <nav class="nav-user" aria-label="Личный кабинет">
        <div class="nav-user__group">
          <button
            mat-button
            type="button"
            class="nav-user__link"
            [class.nav-user__link--active]="activePanel() === 'favorites'"
            (click)="openPanel('favorites')"
            aria-label="Избранное"
          >
            <mat-icon class="nav-user__icon">favorite_border</mat-icon>
            <span class="nav-user__label">Избранное</span>
          </button>
          <button
            mat-button
            type="button"
            class="nav-user__link"
            [class.nav-user__link--active]="activePanel() === 'notifications'"
            (click)="openPanel('notifications')"
            aria-label="Уведомления"
          >
            <mat-icon class="nav-user__icon">notifications_none</mat-icon>
            <span class="nav-user__label">Уведомления</span>
          </button>
          <button
            mat-button
            type="button"
            class="nav-user__link"
            [class.nav-user__link--active]="activePanel() === 'messages'"
            (click)="openPanel('messages')"
            aria-label="Сообщения"
          >
            <mat-icon class="nav-user__icon">message</mat-icon>
            <span class="nav-user__label">Сообщения</span>
          </button>
          <button
            mat-button
            type="button"
            class="nav-user__link"
            [class.nav-user__link--active]="activePanel() === 'profile'"
            (click)="openPanel('profile')"
            aria-label="Профиль"
          >
            <mat-icon class="nav-user__icon">person</mat-icon>
            <span class="nav-user__label">Профиль</span>
          </button>
        </div>
      </nav>
    </mat-toolbar-row>
  </mat-toolbar>
</header>
