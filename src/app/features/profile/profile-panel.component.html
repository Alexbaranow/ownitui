<div class="profile-panel">
  @if (auth.userDisplayName()) {
    <section class="profile-panel__user">
      <div class="profile-panel__avatar" aria-hidden="true">
        <mat-icon>account_circle</mat-icon>
      </div>
      <div class="profile-panel__info">
        <span class="profile-panel__name">{{ auth.userDisplayName() }}</span>
        <div class="profile-panel__rating">
          <span class="profile-panel__rating-value">4,5</span>
          <span class="profile-panel__stars" aria-label="Рейтинг 4.5 из 5">
            @for (i of [1, 2, 3, 4, 5]; track i) {
              <mat-icon class="profile-panel__star">{{ i <= 4 ? 'star' : 'star_half' }}</mat-icon>
            }
          </span>
        </div>
      </div>
    </section>
  } @else {
    <section class="profile-panel__user">
      <button
        mat-flat-button
        type="button"
        class="profile-panel__login-btn"
        (click)="onLoginClick()"
      >
        Войти
      </button>
    </section>
  }

  @if (auth.isAuthorized()) {
    <div class="profile-panel__divider"></div>

    <button mat-flat-button color="primary" class="profile-panel__action" type="button">
      <mat-icon>person_add</mat-icon>
      <span>Добавить профиль</span>
    </button>

    <div class="profile-panel__divider"></div>

    <nav class="profile-panel__nav" aria-label="Разделы профиля">
      <a href="#" class="profile-panel__nav-item profile-panel__nav-item--active">
        <span>Мои объявления</span>
        <span class="profile-panel__nav-count">(3)</span>
      </a>
      <a href="#" class="profile-panel__nav-item">
        <span>Мои отзывы</span>
        <span class="profile-panel__nav-count">3</span>
      </a>
      <a href="#" class="profile-panel__nav-item">Адреса</a>
      <a href="#" class="profile-panel__nav-item">Аукцион</a>
      <a href="#" class="profile-panel__nav-item">Настройки</a>
    </nav>

    <div class="profile-panel__spacer"></div>

    <div class="profile-panel__footer">
      <button
        mat-stroked-button
        class="profile-panel__logout"
        type="button"
        (click)="auth.logout()"
      >
        Выйти
      </button>
    </div>
  }
</div>
